(()=>{"use strict";var t={5654:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=r(4712),o=r(3738),n=r(9082),s=r(6502),a=r(4249);e.default=class{constructor(t){this.fps=60,this.origin=[0,0],this.degree=0,this.canvas=t,this.context=t.getContext("2d"),this.canvas.style.border="1px solid black",this.width=300,this.height=300,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=`${this.width}px`,this.canvas.style.height=`${this.height}px`,console.log("canvas has been set!"),this.rectVectors=(0,a.createRectVectors)(50,50),this.isDirectionChanged=!1,this.updateFrame()}updateFrame(){this.clear(),this.drawAll(),setTimeout((()=>{requestAnimationFrame(this.updateFrame.bind(this))}),1e3/this.fps)}drawAll(){const t=this.isDirectionChanged?[-1,0]:[1,0],e=(0,a.createRectVectors)(50,50);this.origin=(0,s.addVectors)(this.origin,t),this.origin[0]>80&&(this.isDirectionChanged=!0),this.origin[0]<-80&&(this.isDirectionChanged=!1),this.degree=this.isDirectionChanged?this.degree+Math.PI/100:this.degree-Math.PI/100;const r=(0,n.createRotateMatrix)(this.degree),c=(0,i.createAffineTranslateMatrix)(this.origin),h=(0,i.createAffineRotateMatrix)(r),l=(0,o.multiplyMatrices)(c,h);this.rectVectors=e.map((t=>{const e=(0,i.vectorToAffineVector)(t),r=(0,o.multiplyMatrixWithVector)(l,e);return(0,i.affineVectorToVector)(r)}));for(const t of this.rectVectors)(0,a.drawCartesianPoint)(this.canvas,t,{r:255,g:0,b:0,a:255})}drawWithCartesianOrigin(t){this.context.save(),this.context.transform(1,0,0,-1,this.width/2,this.height/2),t(),this.context.restore()}clear(){this.context.clearRect(0,0,this.width,this.height)}}},6959:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=r(4712),o=r(3738),n=r(9082),s=r(4249);e.default=class{constructor(t){this.fps=24,this.sunEarthDistance=100,this.earthMoonDistance=30,this.earthOrigin=[this.sunEarthDistance,0],this.moonOrigin=[this.sunEarthDistance+this.earthMoonDistance,0],this.sunRadius=25,this.earthRadius=8,this.moonRadius=4,this.sunEarthAngle=0,this.earthMoonAngle=0,this.deltaSunEarthAngle=Math.PI/100,this.deltaEarthMoonAngle=Math.PI/15,this.canvas=t,this.context=t.getContext("2d"),this.canvas.style.border="1px solid black",this.width=300,this.height=300,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=`${this.width}px`,this.canvas.style.height=`${this.height}px`,this.sunVectors=(0,s.createCircleVectors)(this.sunRadius),this.earthVectors=(0,s.createCircleVectors)(this.earthRadius),this.moonVectors=(0,s.createCircleVectors)(this.moonRadius),this.updateFrame()}updateFrame(){this.clear(),this.drawBackground(),this.drawAll(),setTimeout((()=>{requestAnimationFrame(this.updateFrame.bind(this))}),1e3/this.fps)}drawSun(){for(const t of this.sunVectors)(0,s.drawCartesianPoint)(this.canvas,t,{r:255,g:200,b:0,a:1})}drawAll(){this.drawSun(),this.drawEarth(),this.drawMoon(),this.sunEarthAngle+=this.deltaSunEarthAngle,this.earthMoonAngle+=this.deltaEarthMoonAngle,this.earthOrigin=(0,o.multiplyMatrixWithVector)((0,n.createRotateMatrix)(this.deltaSunEarthAngle),this.earthOrigin)}drawEarth(){const t=(0,s.createCircleVectors)(this.earthRadius),e=(0,i.createAffineTranslateMatrix)([this.sunEarthDistance,0]),r=(0,i.createAffineRotateMatrix)((0,n.createRotateMatrix)(this.sunEarthAngle)),a=(0,o.multiplyMatrices)(r,e);this.earthVectors=t.map((t=>{const e=(0,i.vectorToAffineVector)(t),r=(0,o.multiplyMatrixWithVector)(a,e);return(0,i.affineVectorToVector)(r)}));for(const t of this.earthVectors)(0,s.drawCartesianPoint)(this.canvas,t,{r:0,g:255,b:0,a:1})}drawMoon(){const t=(0,s.createCircleVectors)(this.moonRadius),e=(0,i.createAffineTranslateMatrix)([this.earthMoonDistance,0]),r=(0,i.createAffineRotateMatrix)((0,n.createRotateMatrix)(this.earthMoonAngle)),a=(0,o.multiplyMatrices)((0,i.createAffineTranslateMatrix)(this.earthOrigin),(0,o.multiplyMatrices)(r,e));this.moonVectors=t.map((t=>{const e=(0,i.vectorToAffineVector)(t),r=(0,o.multiplyMatrixWithVector)(a,e);return(0,i.affineVectorToVector)(r)}));for(const t of this.moonVectors)(0,s.drawCartesianPoint)(this.canvas,t,{r:255,g:250,b:205,a:1})}drawWithCartesianOrigin(t){this.context.save(),this.context.transform(1,0,0,-1,this.width/2,this.height/2),t(),this.context.restore()}drawBackground(t){this.context.fillStyle="black",this.context.fillRect(0,0,this.width,this.height)}clear(){this.context.clearRect(0,0,this.width,this.height)}}},8416:function(t,e,r){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(r(5654)),n=i(r(6959)),s=document.getElementById("canvas");console.log(s),new o.default(s);const a=document.getElementById("planetCanvas");console.log(a),new n.default(a)},4712:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.affineVectorToVector=e.createAffineScaleMatrix=e.createAffineRotateMatrix=e.createAffineTranslateMatrix=e.vectorToAffineVector=void 0,e.vectorToAffineVector=t=>{const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e.push(1),e},e.createAffineTranslateMatrix=t=>{const r=(0,e.vectorToAffineVector)(t),i=[];for(let e=0;e<t.length;e++){const r=[];for(let i=0;i<t.length;i++)e===i?r.push(1):r.push(0);r.push(0),i.push(r)}return i.push(r),i};const r=t=>{const e=[];for(const r of t){const t=[...r,0];e.push(t)}const r=t[0].length,i=[];for(let t=0;t<r;t++)i.push(0);return i.push(1),e.push(i),e};e.createAffineRotateMatrix=r,e.createAffineScaleMatrix=r,e.affineVectorToVector=t=>t.slice(0,-1)},4077:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.equalsInTolerance=e.CohenSutherlandLineClip=e.testRegion=void 0,e.testRegion=(t,e,r)=>{let i=0;return t[0]<e[0]?i|=1:t[0]>r[0]&&(i|=2),t[1]<e[1]?i|=4:t[1]>r[1]&&(i|=8),i},e.CohenSutherlandLineClip=(t,r,i,o)=>{let n=(0,e.testRegion)(t,i,o),s=(0,e.testRegion)(r,i,o);const a=r[0]-t[0],c=r[1]-t[1];for(;;){if(0===n&&0===s)return!0;if(n&s)return!1;{let h=[0,0];const l=0!==n,u=l?n:s;u<4?(h[0]=1&u?i[0]:o[0],(0,e.equalsInTolerance)(c,0)?h[1]=t[1]:h[1]=t[1]+c*(h[0]-t[0])/a):(h[1]=4&u?i[1]:o[1],(0,e.equalsInTolerance)(a,0)?h[0]=t[0]:h[0]=t[0]+a*(h[1]-t[1])/c),l?(t=h,n=(0,e.testRegion)(t,i,o)):(r=h,s=(0,e.testRegion)(r,i,o))}}return!0},e.equalsInTolerance=(t,e,r=1e-8)=>Math.abs(e-t)<=r},3738:(t,e)=>{function r(t,e){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let r=0;r<t[0].length;r++){let n=0;for(let o=0;o<e[0].length;o++)n+=t[o][r]*e[i][o];o.push(n)}r.push(o)}return r}function i(t){if(2===t.length)return t[0][0]*t[1][1]-t[0][1]*t[1][0];let e=0;for(let r=0;r<t.length;r++)e+=t[0][r]*o(t,0,r);return e}function o(t,e,r){const o=n(t,e,r);return Math.pow(-1,e+r)*i(o)}function n(t,e,r){const i=[];for(let o=0;o<t.length;o++)if(o!==e){const e=[];for(let i=0;i<t.length;i++)i!==r&&e.push(t[o][i]);i.push(e)}return i}Object.defineProperty(e,"__esModule",{value:!0}),e.getMinor=e.getCofactor=e.getMatrixDet=e.scalarMatrix=e.subtractMatrices=e.addMatrices=e.transposeMatrix=e.multiplyMatrixWithVector=e.multiplyMatrices=void 0,e.multiplyMatrices=r,e.multiplyMatrixWithVector=function(t,e){return r(t,[e])[0]},e.transposeMatrix=function(t){return t[0].map(((e,r)=>t.map((t=>t[r]))))},e.addMatrices=function(t,e){const r=[];for(let i=0;i<t.length;i++){const o=[];for(let r=0;r<t[0].length;r++)o.push(t[i][r]+e[i][r]);r.push(o)}return r},e.subtractMatrices=function(t,e){const r=[];for(let i=0;i<t.length;i++){const o=[];for(let r=0;r<t[0].length;r++)o.push(t[i][r]-e[i][r]);r.push(o)}return r},e.scalarMatrix=function(t,e){const r=[];for(let i=0;i<t.length;i++){const o=[];for(let r=0;r<t[0].length;r++)o.push(e*t[i][r]);r.push(o)}return r},e.getMatrixDet=i,e.getCofactor=o,e.getMinor=n},5881:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toScreenPointVector=void 0,e.toScreenPointVector=t=>{const e=[];for(let r=0;r<t.length;r++)e.push(Math.floor(t[r]));return e}},9082:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createRotateMatrix=e.xAxisReflectVector2d=e.rotateVector2d=void 0;const i=r(3738);function o(t){const e=Math.cos(t),r=Math.sin(t);return[[e,r],[-r,e]]}e.rotateVector2d=function(t,e){if(2!==t.length)throw new Error("the input vector is not a vector2d");const r=o(e);return(0,i.multiplyMatrixWithVector)(r,t)},e.xAxisReflectVector2d=function(t){return(0,i.multiplyMatrixWithVector)([[1,0],[0,-1]],t)},e.createRotateMatrix=o},6502:(t,e)=>{function r(t,e){if(t.length!==e.length)throw new Error("the vectors' length differ");let r=0;return t.map(((t,i)=>{r+=t*e[i]})),r}function i(t,e){const r=[];for(let i=0;i<t.length;i++){const o=t[i]*e;r.push(o)}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.returnVectorSize=e.normalizeVector=e.scalarVector=e.subtractVectors=e.dotVectors=e.addVectors=void 0,e.addVectors=function(t,e){const r=[];for(let i=0;i<t.length;i++){const o=t[i]+e[i];r.push(o)}return r},e.dotVectors=r,e.subtractVectors=function(t,e){const r=[];for(let i=0;i<t.length;i++){const o=t[i]-e[i];r.push(o)}return r},e.scalarVector=i,e.normalizeVector=function(t){return i(t,1/Math.sqrt(r(t,t)))},e.returnVectorSize=function(t){let e=0;for(const r of t)e+=r*r;return e}},4249:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createCircleVectors=e.createRectVectors=e.drawCartesianPointByPixel=e.drawCartesianPoint=e.drawPoint=e.drawCartesianLineByContext=e.drawLine=void 0;const i=r(4077),o=r(5881),n=r(6502);e.drawLine=(t,r,n)=>{let s=r,a=n;const c=[-t.width/2,-t.height/2],h=[t.width/2,t.height/2];if(!(0,i.CohenSutherlandLineClip)(s,a,c,h))return;const l=(0,o.toScreenPointVector)(s),u=(0,o.toScreenPointVector)(a),d=u[0]-l[0],f=u[1]-l[1],g=Math.abs(d)>=Math.abs(f),p=d>=0?1:-1,M=f>0?1:-1,V=p*d,x=M*f;let w=g?2*x-V:2*V-x;const v=g?2*x:2*V,m=g?2*(x-V):2*(V-x);let y=l[0],C=l[1];if(g)for(;y!=u[0];)(0,e.drawCartesianPoint)(t,(0,o.toScreenPointVector)([y,C])),w<0?w+=v:(w+=m,C+=M),y+=p;else for(;C!=u[1];)(0,e.drawCartesianPoint)(t,(0,o.toScreenPointVector)([y,C])),w<0?w+=v:(w+=m,y+=p),C+=M},e.drawCartesianLineByContext=(t,e,r,i="black",o=1)=>{const s=t.getContext("2d"),a=(0,n.addVectors)(e,[Math.floor(t.width/2),Math.floor(t.height/2)]),c=(0,n.addVectors)(r,[Math.floor(t.width/2),Math.floor(t.height/2)]);s.strokeStyle=i,s.lineWidth=o,s.beginPath(),s.moveTo(a[0],a[1]),s.lineTo(c[0],c[1]),s.stroke()},e.drawPoint=(t,e,r,i)=>{const n=(0,o.toScreenPointVector)(r);e.fillStyle=`rgba(${i.r}, ${i.g}, ${i.b}, ${i.a})`,e.fillRect(n[0],n[1],1,1)},e.drawCartesianPoint=(t,e,r={r:0,g:0,b:0,a:255})=>{e[1]=-e[1];const i=t.getContext("2d"),s=(0,o.toScreenPointVector)(e),a=(0,n.addVectors)(s,[Math.floor(t.width/2),Math.floor(t.height/2)]);i.fillStyle=`rgba(${r.r}, ${r.g}, ${r.b}, ${r.a})`,i.strokeStyle=`rgba(${r.r}, ${r.g}, ${r.b}, ${r.a})`,i.fillRect(a[0],a[1],1,1)},e.drawCartesianPointByPixel=(t,e,r,i)=>{const s=(0,o.toScreenPointVector)(r),a=(0,n.addVectors)(s,[Math.floor(t.width/2),Math.floor(t.height/2)]),c=e.getImageData(a[0],a[1],1,1),h=c.data;h[0]=i.r,h[1]=i.g,h[2]=i.b,h[3]=255,e.putImageData(c,a[0],a[1])},e.createRectVectors=(t,e)=>{const r=[];for(let i=-t/2;i<=t/2;i+=1)for(let t=-e/2;t<=e/2;t+=1)r.push([i,t]);return r},e.createCircleVectors=t=>{const e=[];for(let r=-t;r<=t;r+=1)for(let i=-t;i<=t;i+=1){const o=[r,i];(0,n.returnVectorSize)(o)<t*t&&e.push(o)}return e}}},e={};!function r(i){var o=e[i];if(void 0!==o)return o.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,r),n.exports}(8416)})();